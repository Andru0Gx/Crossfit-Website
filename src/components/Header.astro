---
const pages = [
    {
        title: "Inicio",
        url: "/",
    },
    {
        title: "Contacto",
        url: "https://wa.me/584249597302",
        rel: "noopener noreferrer",
        target: "_blank",
    },
    {
        title: "Iniciar SesiÃ³n",
        url: "/workout.astro",
        disabled: true,
        soondate: "Proximamente",
    },
].map((page) => ({
    ...page,
    active: page.url === Astro.url.pathname,
}));

import HamburguerMenu from "./HamburguerMenu.astro";
---

<header
    class="sticky top-0 w-full flex justify-between px-3 pt-2 h-20 items-center shadow-lg bg-section sm:px-10 z-10"
>
    <a href="/" class="font-main text-secondary text-2xl" title="MonagasBox">
        Monagas<span class="text-primary">Box</span>
    </a>

    <nav class="font-secondary hidden lg:flex space-x-10 text-secondary">
        {
            pages.map(
                ({ title, url, rel, target, active, disabled, soondate }) => (
                    <div class="flex flex-col items-center">
                        <a
                            href={url}
                            rel={rel}
                            target={target}
                            title={title}
                            class:list={[
                                { "current-page": active },
                                { "pointer-events-none": disabled },
                            ]}
                        >
                            {title}
                        </a>
                        {soondate && (
                            <span class="text-xs text-primary">{soondate}</span>
                        )}
                    </div>
                )
            )
        }
    </nav>

    <div class="block lg:hidden">
        <HamburguerMenu />
        <nav
            id="nav"
            class="absolute top-20 left-0 w-full bg-section shadow-lg text-secondary font-secondary opacity-0 transition-opacity duration-300 ease-in-out z-10 pointer-events-none"
        >
            <div class="flex flex-col items-center space-y-10 py-5">
                {
                    pages.map(({ title, url, rel, target, active }) => (
                        <div>
                            <a
                                href={url}
                                rel={rel}
                                target={target}
                                title={title}
                                class:list={[
                                    "tracking-wider",
                                    { "current-page": active },
                                ]}
                            >
                                {title}
                            </a>
                        </div>
                    ))
                }
            </div>
        </nav>
    </div>
</header>

<style>
    .current-page {
        border-bottom: 2px solid var(--primary-color);
    }

    #nav {
        pointer-events: auto;
    }

    #nav.opacity-100 {
        opacity: 1;
    }
</style>
